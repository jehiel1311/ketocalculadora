<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Calculadora de Macros Keto</title>
</head>
<body>
    <div class="seccion-formulario" id="formulario">
         <div class="logo"> 
        <img src="/logo2.png" alt="">
    </div>
        <h1>Calculadora dieta Keto</h1>
        <form id="keto-form">
            <label for="age">Edad:</label>
            <input type="number" id="age" required><br>

            <label for="gender">Sexo:</label>
            <select id="gender">
                <option value="male">Masculino</option>
                <option value="female">Femenino</option>
            </select><br>

            <label for="height">Estatura (cm):</label>
            <input type="number" id="height" required><br>

            <label for="weight">Peso (kg):</label>
            <input type="number" id="weight" required><br>

            <label for="activity-level">Nivel de actividad física:</label>
            <select id="activity-level">
                <option value="1.2">Sedentario (sin ejercicio)</option>
                <option value="1.375">Ligero (1-3 horas de ejercicio por semana)</option>
                <option value="1.55">Moderado (3-7 horas de ejercicio por semana)</option>
                <option value="1.725">Elevado (más de 7 horas de ejercicio por semana)</option>
            </select><br>

            <label for="goal">Objetivo:</label>
            <select id="goal">
                <option value="lose">Bajar de peso</option>
                <option value="maintain">Mantener el peso</option>
                <option value="gain">Ganar masa muscular</option>
            </select><br>

            <!-- Otras entradas como objetivo de peso, etc. -->

            <button type="button" onclick="calcularMacros()">Calcular</button>
        </form>
    
        <div id="resultados">
            <!-- Aquí se mostrarán los resultados -->
        </div>

        <button type="button" onclick="redirigirAIndex()">Arma tu Dieta</button>
    </div>
<!-- Botón para calcular los resultados -->
<!-- <button type="button" onclick="calcularMacros()">Calcular</button> -->

<script>
    function calcularMacros() {
        try {
            console.log("Calculando Macros...");
            const age = parseFloat(document.getElementById('age').value);
            const gender = document.getElementById('gender').value;
            const height = parseFloat(document.getElementById('height').value);
            const weight = parseFloat(document.getElementById('weight').value);
            const activityLevel = parseFloat(document.getElementById('activity-level').value);
            const goal = document.getElementById('goal').value;

            // Realizar cálculos según tus necesidades
            const tmb = 10 * weight + 6.25 * height - 5 * age + 5;
            const caloriesMin = tmb * activityLevel;
            const caloriesMax = caloriesMin * 1.2; // Ajusta según tus preferencias
            const proteinMin = 1.6 * weight;  // Ajusta según tus preferencias
            const proteinMax = 2.2 * weight;  // Ajusta según tus preferencias
            const fatMin = (caloriesMin * 0.7) / 9;
            const fatMax = (caloriesMax * 0.75) / 9;

            // Rango sugerido para carbohidratos (ajustable según tus preferencias)
            const carbsMin = 20;  // Mínimo recomendado
            const carbsMax = 50;  // Máximo recomendado

            // Determinar la descripción del nivel de actividad
            let activityDescription = "";
            switch (activityLevel) {
                case 1.2:
                    activityDescription = "Sedentario (sin ejercicio)";
                    break;
                case 1.375:
                    activityDescription = "Ligero (1-3 horas de ejercicio por semana)";
                    break;
                case 1.55:
                    activityDescription = "Moderado (3-7 horas de ejercicio por semana)";
                    break;
                case 1.725:
                    activityDescription = "Elevado (más de 7 horas de ejercicio por semana)";
                    break;
                default:
                    activityDescription = "Nivel de actividad no especificado";
                    break;
            }

            // Mostrar los resultados en la sección de resultados
            const resultadosDiv = document.getElementById('resultados');
            resultadosDiv.innerHTML = `
                <h2>Resultados:</h2>
                <p><strong>Calorías diarias:</strong> ${caloriesMin.toFixed(2)} - ${caloriesMax.toFixed(2)} kcal</p>
                <p><strong>Proteínas (rango):</strong> ${proteinMin.toFixed(2)} - ${proteinMax.toFixed(2)} g</p>
                <p><strong>Grasas (rango):</strong> ${fatMin.toFixed(2)} - ${fatMax.toFixed(2)} g</p>
                <p><strong>Carbohidratos (rango):</strong> ${carbsMin} - ${carbsMax} g</p>
                <p><strong>Nivel de actividad:</strong> ${activityLevel} - ${activityDescription}</p>
                <p><strong>Objetivo:</strong> ${goal}</p>
            `;

            // Almacenar resultados en cookies
            document.cookie = `caloriesMin=${caloriesMin}`;
            document.cookie = `caloriesMax=${caloriesMax}`;
            document.cookie = `proteinMin=${proteinMin}`;
            document.cookie = `proteinMax=${proteinMax}`;
            document.cookie = `fatMin=${fatMin}`;
            document.cookie = `fatMax=${fatMax}`;
            document.cookie = `carbsMin=${carbsMin}`;
            document.cookie = `carbsMax=${carbsMax}`;
            document.cookie = `activityLevel=${activityLevel}`;
            document.cookie = `goal=${goal}`;
            document.cookie = `protein=${(proteinMin + proteinMax) / 2}`; // Almacena el promedio de proteínas como valor por defecto
            document.cookie = `carbs=${(carbsMin + carbsMax) / 2}`; // Almacena el promedio de carbohidratos como valor por defecto

            // Almacenar resultados en localStorage
            localStorage.setItem('caloriesMin', caloriesMin.toFixed(2));
            localStorage.setItem('caloriesMax', caloriesMax.toFixed(2));
            localStorage.setItem('proteinMin', proteinMin.toFixed(2));
            localStorage.setItem('proteinMax', proteinMax.toFixed(2));
            localStorage.setItem('fatMin', fatMin.toFixed(2));
            localStorage.setItem('fatMax', fatMax.toFixed(2));
            localStorage.setItem('carbsMin', carbsMin);
            localStorage.setItem('carbsMax', carbsMax);
            localStorage.setItem('activityLevel', activityLevel);
            localStorage.setItem('goal', goal);
            localStorage.setItem('protein', ((proteinMin + proteinMax) / 2).toFixed(2));
            localStorage.setItem('carbs', ((carbsMin + carbsMax) / 2).toFixed(2));

        } catch (error) {
            console.error("Error al calcular los resultados:", error);
        }
    }

    // Redirigir a index.html con los objetivos
    function redirigirAIndex() {
        window.location.href = "calculo.html";
    }
</script>
</script>

<!-- Botón para redirigir a index.html con los objetivos -->

</body>
</html>


